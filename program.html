<!DOCTYPE html>
<html>

<head>
    <title>
        Nanonaut Action
    </title>
</head>

<body>
    <script>

        //CONSTANTS
        var CANVAS_WIDTH = 800;
        var CANVAS_HIEGHT = 600;
        var PLAYER_WIDTH = 181;
        var PLAYER_HEIGHT = 229
        var GROUND_Y = 540;
        var PLAYER_Y_ACCELERATION = 1;

        //SETUP
        var canvas = document.createElement('canvas');
        var c = canvas.getContext('2d');
        canvas.width = CANVAS_WIDTH;
        canvas.height = CANVAS_HIEGHT;
        document.body.appendChild(canvas);

        var playerImage = new Image();
        playerImage.src = 'visuals/Nanonaut.png';

        var backgroundImage = new Image();
        backgroundImage.src = 'visuals/background.png';

        var playerX = 50;
        var playerY = 40;
        var playerYSpeed = 0;

        window.addEventListener('load', start);

        function start() {
            window.requestAnimationFrame(mainLoop);
        }

        //MAIN LOOP
        function mainLoop() {
            update();
            draw();
            window.requestAnimationFrame(mainLoop);
        }

        //PLAYER INPUT

        //UPDAING
        function update() {
            //gravity for mr. Nano
            playerY = playerY + playerYSpeed;
            playerYSpeed = playerYSpeed + PLAYER_Y_ACCELERATION;

            if (playerY > (GROUND_Y - PLAYER_HEIGHT)) {
                playerY = GROUND_Y - PLAYER_HEIGHT;
                playerYSpeed = 0;
            }
        }

        //DRAWING
        function draw() {
            //Da sky
            c.fillStyle = 'LightSkyBlue';
            c.fillRect(0, 0, CANVAS_WIDTH, GROUND_Y - 40);

            //Da background
            c.drawImage(backgroundImage, 0, -210);

            //Da ground
            c.fillStyle = 'ForestGreen';
            c.fillRect(0, GROUND_Y - 40, CANVAS_WIDTH, CANVAS_HIEGHT - GROUND_Y + 40);

            c.drawImage(playerImage, playerX, playerY);
        }

    </script>
</body>

</html>